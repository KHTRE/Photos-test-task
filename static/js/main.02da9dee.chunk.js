(this["webpackJsonpreact_movies-list-fetch-movies"]=this["webpackJsonpreact_movies-list-fetch-movies"]||[]).push([[0],{18:function(e,t,n){"use strict";n.r(t);var c=n(9),s=n.n(c),a=(n(15),n(4)),r=n(3),l=n(2),o=n.n(l),i=n(1),u=n(10),d="https://jsonplaceholder.typicode.com/photos",b=function(){var e=Object(a.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d);case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(a.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(d,"/").concat(t),e.next=3,fetch(n,{method:"DELETE"});case 3:c=e.sent,console.log(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=n(0),h=function(e){var t=e.photos,n=e.setPhotos,c=e.selectedAlbum,s=e.setPagesCount,a=e.selectedPage,r=e.setSelectedPhoto,l=function(e){r(+e.currentTarget.name)},o=function(e){j(+e.currentTarget.name);var c=Object(u.a)(t),s=c.findIndex((function(t){return t.id===+e.currentTarget.name}));c.splice(s,1),n(c)};return Object(m.jsx)("div",{className:"px-4 row row-cols-1 row-cols-md-5 row-cols-sm-3 g-4",children:function(){var e=t;0!==c&&(e=t.filter((function(e){return e.albumId===c})));var n=Math.ceil(e.length/10);return s(n),e}().filter((function(e,t){return t>=10*a-10&&t<10*a})).map((function(e){return Object(m.jsx)("div",{className:"col",children:Object(m.jsxs)("div",{className:"card h-100",children:[Object(m.jsx)("button",{type:"button",onClick:l,name:String(e.id),className:"btn btn-outline-secondary",children:Object(m.jsx)("img",{src:e.thumbnailUrl,className:"card-img-top",alt:e.title})}),Object(m.jsx)("div",{className:"card-body",children:Object(m.jsx)("h5",{className:"card-title",children:e.title})}),Object(m.jsx)("button",{type:"button",className:"button is-danger",onClick:o,name:String(e.id),children:"Delete"})]})})}))})},p=function(e){var t=e.albums,n=e.selectedAlbum,c=e.setSelectedAlbum,s=e.setSelectedPage;return Object(m.jsx)("header",{className:"d-flex justify-content-center py-4",children:Object(m.jsxs)("label",{htmlFor:"select",children:["Select desired album: \xa0",Object(m.jsxs)("select",{id:"select",value:n,onChange:function(e){+e.target.value!==n&&(c(+e.target.value),s(1))},children:[Object(m.jsx)("option",{value:"0",children:"All albums"}),t.map((function(e){return Object(m.jsx)("option",{value:e,children:e},e)}))]})]})})},f=n(7),O=n.n(f),v=function(e){var t=e.pagesCount,n=e.selectedPage,c=e.setSelectedPage,s=function(e){c(+e.currentTarget.name)};return Object(m.jsx)("nav",{"aria-label":"Page navigation example",children:Object(m.jsxs)("ul",{className:"pagination justify-content-center py-4",children:[Object(m.jsx)("button",{type:"button",className:"btn btn-warning mx-4",onClick:function(){c(1)},children:"First page"}),function(){var e=[];if(t<=5)for(var c=1;c<=t;c++)e.push(c);else if(n<=3)for(var s=1;s<=5;s++)e.push(s);else if(n>3&&t-n>=2)for(var a=n-2;a<=n+2;a++)e.push(a);else for(var r=t-4;r<=t;r++)e.push(r);return e}().map((function(e){return Object(m.jsx)("li",{className:O()("page-item",{active:n===e}),children:Object(m.jsx)("button",{type:"button",className:"page-link",name:String(e),onClick:s,children:e})},e)})),Object(m.jsx)("button",{type:"button",className:"btn btn-warning mx-4",onClick:function(){c(t)},children:"Last page"})]})})},x=function(e){var t=e.selectedPhoto,n=e.photos,c=e.setSelectedPhoto,s=n.find((function(e){return e.id===t}));return Object(m.jsxs)("div",{className:O()("modal",{"is-active":t}),children:[Object(m.jsx)("div",{className:"modal-background"}),Object(m.jsx)("div",{className:"modal-dialog",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("h5",{className:"modal-title",children:s&&s.title}),Object(m.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:function(){c(0)}})]}),Object(m.jsx)("div",{className:"modal-body",children:s&&Object(m.jsx)("img",{src:s.url,alt:s.title})})]})})]})},g=function(){return Object(m.jsx)("div",{className:"modal-background bg-light",children:Object(m.jsx)("div",{className:"position-absolute top-50 start-50",children:Object(m.jsx)("div",{className:"spinner-border",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})},N=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(i.useState)(!1),l=Object(r.a)(s,2),u=l[0],d=l[1],j=Object(i.useState)([]),f=Object(r.a)(j,2),O=f[0],N=f[1],S=Object(i.useState)(0),y=Object(r.a)(S,2),P=y[0],w=y[1],k=Object(i.useState)(1),C=Object(r.a)(k,2),A=C[0],E=C[1],T=Object(i.useState)(1),I=Object(r.a)(T,2),L=I[0],D=I[1],F=Object(i.useState)(0),J=Object(r.a)(F,2),_=J[0],B=J[1],M=function(){var e=Object(a.a)(o.a.mark((function e(){var t,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,b();case 3:t=e.sent,n=t.map((function(e){return e.albumId})),s=Array.from(new Set(n)),c(t),N(s),d(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){M()}),[]),Object(m.jsxs)("div",{children:[Object(m.jsx)(x,{selectedPhoto:_,photos:n,setSelectedPhoto:B}),Object(m.jsx)(p,{albums:O,selectedAlbum:P,setSelectedAlbum:w,setSelectedPage:E}),Object(m.jsx)(h,{photos:n,setPhotos:c,selectedAlbum:P,setPagesCount:D,selectedPage:A,setSelectedPhoto:B}),Object(m.jsx)(v,{selectedPage:A,setSelectedPage:E,pagesCount:L}),u&&Object(m.jsx)(g,{})]})};s.a.render(Object(m.jsx)(N,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.02da9dee.chunk.js.map